{% extends "base.html" %}

{% block content %}
<section class="method-section">
    <h2>Lagrange Interpolation</h2>

    <form method="POST">
        <div class="form-group">
            <label for="x_values">X values (comma separated):</label>
            <input type="text" id="x_values" name="x_values" required placeholder="e.g., 1,2,4,5">
        </div>

        <div class="form-group">
            <label for="y_values">Y values (comma separated):</label>
            <input type="text" id="y_values" name="y_values" required placeholder="e.g., 1,4,16,25">
        </div>

        <div class="form-group">
            <label for="x_target">Target X value for interpolation:</label>
            <input type="number" id="x_target" name="x_target" required step="any" placeholder="e.g., 3">
        </div>

        <button type="submit">Calculate</button>
    </form>

    {% if error %}
    <div class="error">{{ error }}</div>
    {% endif %}

    {% if show_result %}
    <div class="result-section">
        <h3>Result</h3>
        <p>Interpolated value at x = {{ x_target }}: <strong>{{ result }}</strong></p>

        <h4>Lagrange Interpolation Formula</h4>
        <p>P(x) = Σ [y<sub>i</sub> * L<sub>i</sub>(x)] for i = 0 to n</p>
        <p>where L<sub>i</sub>(x) = Π (x - x<sub>j</sub>) / (x<sub>i</sub> - x<sub>j</sub>) for j ≠ i</p>
    </div>
    {% endif %}

    <div class="algorithm">
        <h3>Lagrange Interpolation Algorithm</h3>
        <ol>
            <li>For each data point, construct the Lagrange basis polynomial L<sub>i</sub>(x)</li>
            <li>Multiply each basis polynomial by its corresponding y value</li>
            <li>Sum all these terms to get the interpolated value at the target x</li>
        </ol>
    </div>
</section>
{% endblock %}