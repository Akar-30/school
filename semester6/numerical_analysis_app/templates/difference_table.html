{% extends "base.html" %}

{% block content %}
<section class="method-section">
    <h2>Forward Difference Table</h2>

    <form method="POST">
        <div class="form-group">
            <label for="y_values">Y values (comma separated):</label>
            <input type="text" id="y_values" name="y_values" required placeholder="e.g., 1,4,9,16,25">
        </div>

        <button type="submit">Generate Table</button>
    </form>

    {% if error %}
    <div class="error">{{ error }}</div>
    {% endif %}

    {% if show_result %}
    <div class="result-section">
        <h3>Forward Difference Table</h3>
        <table class="difference-table">
            <tr>
                <th>y</th>
                {% for i in range(1, diff_table|length) %}
                <th>Î”<sup>{{ i }}</sup>y</th>
                {% endfor %}
            </tr>
            {% for i in range(diff_table[0]|length) %}
            <tr>
                {% for j in range(diff_table|length) %}
                {% if i < diff_table[j]|length %} <td>{{ diff_table[j][i] }}</td>
                    {% else %}
                    <td></td>
                    {% endif %}
                    {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </div>
    {% endif %}

    <div class="algorithm">
        <h3>Forward Difference Table Construction</h3>
        <ol>
            <li>The first column contains the original y values</li>
            <li>Each subsequent column contains the differences between consecutive values in the previous column</li>
            <li>The process continues until only one value remains in the last column</li>
        </ol>
    </div>
</section>
{% endblock %}